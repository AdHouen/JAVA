package item1;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.IOException;
import java.io.ObjectOutputStream;

import javax.swing.JOptionPane;


public class Log2csv {
	
	public static void main (String[] args) {
		
//		FileOutputStream fileSortie = new FileOutputStream("Copie de in010607.log");
		
		try  {
			File logFileInput = new File("in010607.log");
			FileReader fr = new FileReader(logFileInput);
            BufferedReader br = new BufferedReader(fr);
            StringBuilder sb = new StringBuilder();
            String line;
            
            while((line = br.readLine()) != null)
            {
                // ajoute la ligne au buffer
                sb.append(line);
                sb.append("\n");
            }
            fr.close();
		} catch (FileNotFoundException e) {
			JOptionPane.showMessageDialog(null, "Le fichier infos.properties est introuvable", "Erreur",
					JOptionPane.ERROR_MESSAGE);

		} catch (IOException e) {
			JOptionPane.showMessageDialog(null, "Problème d'écriture", "Erreur", JOptionPane.ERROR_MESSAGE);
		} 
		try {
			FileOutputStream logFileOutput = new FileOutputStream("Copie de monLog.log");
			ObjectOutputStream oos = new ObjectOutputStream(logFileOutput);
			oos.writeObject(logFileOutput);
			JOptionPane.showMessageDialog(null, "Export terminé", "Exportation", JOptionPane.INFORMATION_MESSAGE);
			oos.close();
		} catch (FileNotFoundException e) {
			JOptionPane.showMessageDialog(null, "Le fichier repertoire.txt est introuvable", "Erreur",
					JOptionPane.ERROR_MESSAGE);

		}
		catch (IOException e) {
        	JOptionPane.showMessageDialog(null, "Problème d'écriture","Erreur",JOptionPane.ERROR_MESSAGE);
        }
           
    			

    			

    			
    		
    		
        } 
        
		
		

		
    }

   


